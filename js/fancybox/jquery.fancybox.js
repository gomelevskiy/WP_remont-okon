/*!
 * fancyBox - jQuery Plugin
 * version: 3.0.0 Beta 1 (Tue, 29 Jan 2013)
 * @requires jQuery v1.7 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2013 Janis Skarnelis - janis@fancyapps.com
 *
 */
!function(a,b,c,d){"use strict";var e=c(a),f=c(b),g=c("html"),h=c.fancybox=function(){h.open.apply(this,arguments)},i=h.isTouch=b.createTouch!==d||a.ontouchstart!==d,j=function(a){return a&&a.hasOwnProperty&&a instanceof c},k=function(a){return a&&"string"===c.type(a)},l=function(a){return k(a)&&a.indexOf("%")>0},m=function(a,b){var c=parseFloat(a,10)||0;return b&&l(a)&&(c=h.getViewport()[b]/100*c),Math.ceil(c)},n=function(a,b){return m(a,b)+"px"},o=Date.now||function(){return+new Date},p=function(a){var b=k(a)?c(a):a;if(b&&b.length){b.removeClass("fancybox-wrap").stop(!0).trigger("onReset").hide().unbind();try{b.find("iframe").unbind().attr("src",i?"":"//about:blank"),setTimeout(function(){if(b.empty().remove(),h.lock&&!h.coming&&!h.current){var a,d;c(".fancybox-margin").removeClass("fancybox-margin"),a=e.scrollTop(),d=e.scrollLeft(),g.removeClass("fancybox-lock"),h.lock.remove(),h.lock=null,e.scrollTop(a).scrollLeft(d)}},150)}catch(a){}}};c.extend(h,{version:"3.0.0",defaults:{theme:"default",padding:15,margin:[30,55,30,55],loop:!0,arrows:!0,closeBtn:!0,expander:!i,caption:{type:"outside"},overlay:{closeClick:!0,speedIn:0,speedOut:250,showEarly:!0,css:{}},helpers:{},width:800,height:450,minWidth:100,minHeight:100,maxWidth:99999,maxHeight:99999,aspectRatio:!1,fitToView:!0,autoHeight:!0,autoWidth:!0,autoResize:!0,autoCenter:!i,topRatio:.5,leftRatio:.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:!1,playSpeed:3e3,onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeClose:c.noop,afterClose:c.noop,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close" href="javascript:;"></a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorwärts",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:!1,locked:!0,preload:3,mouseWheel:!0,scrolling:"auto",scrollOutside:!0},current:null,coming:null,group:[],index:0,isActive:!1,isOpen:!1,isOpened:!1,isMaximized:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,helpers:{},open:function(a,b){a&&!1!==h.close(!0)&&(c.isPlainObject(b)||(b={}),h.opts=c.extend(!0,{},h.defaults,b),h.populate(a),h.group.length&&h._start(h.opts.index))},populate:function(a){var b=[];c.isArray(a)||(a=[a]),c.each(a,function(e,f){var l,m,n,o,p,g=c.extend(!0,{},h.opts);if(c.isPlainObject(f))l=f;else if(k(f))l={href:f};else{if(!(j(f)||"object"===c.type(f)&&f.nodeType))return;m=c(f),l=c(m).get(0),l.href||(l={href:f}),l=c.extend({href:m.data("fancybox-href")||m.attr("href")||l.href,title:m.data("fancybox-title")||m.attr("title")||l.title,type:m.data("fancybox-type"),element:m},m.data("fancybox-options"))}l.type||!l.content&&!l.href||(l.type=l.content?"html":h.guessType(m,l.href)),n=l.type||h.opts.type,"image"!==n&&"swf"!==n||(g.autoWidth=g.autoHeight=!1,g.scrolling="visible"),"image"===n&&(g.aspectRatio=!0),"iframe"===n&&(g.autoWidth=!1,g.scrolling=i?"scroll":"visible"),a.length<2&&(g.margin=30),l=c.extend(!0,{},g,l),o=l.margin,p=l.padding,"number"===c.type(o)&&(l.margin=[o,o,o,o]),"number"===c.type(p)&&(l.padding=[p,p,p,p]),l.modal&&c.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,overlay:{closeClick:!1}}),l.autoSize!==d&&(l.autoWidth=l.autoHeight=!!l.autoSize),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),b.push(l)}),h.group=h.group.concat(b)},cancel:function(){var a=h.coming;a&&!1!==h.trigger("onCancel")&&(h.hideLoading(),h.ajaxLoad&&h.ajaxLoad.abort(),h.imgPreload&&(h.imgPreload.onload=h.imgPreload.onerror=null),a.wrap&&p(a.wrap),h.ajaxLoad=h.imgPreload=h.coming=null,h.current||h._afterZoomOut(a))},close:function(a){a&&"object"===c.type(a)&&a.preventDefault(),h.cancel(),h.isActive&&!h.coming&&!1!==h.trigger("beforeClose")&&(h.unbind(),h.isClosing=!0,h.lock&&h.lock.css("overflow","hidden"),h.isOpen&&a!==!0?(h.isOpen=h.isOpened=!1,h.transitions.close()):h._afterZoomOut())},prev:function(a){var b=h.current;b&&h.jumpto(b.index-1,k(a)?a:b.direction.prev)},next:function(a){var b=h.current;b&&h.jumpto(b.index+1,k(a)?a:b.direction.next)},jumpto:function(a,b){var c=h.current;h.coming&&h.coming.index===a||(h.cancel(),c.index==a?b=null:b||(b=c.direction[a>c.index?"next":"prev"]),h.direction=b,h._start(a))}}),c.extend(h,{guessType:function(a,b){var c=a&&a.prop("class")?a.prop("class").match(/fancybox\.(\w+)/):0,d=!1;return c?c[1]:(k(b)?b.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)?d="image":b.match(/\.(swf)((\?|#).*)?$/i)?d="swf":"#"===b.charAt(0)&&(d="inline"):k(a)&&(d="html"),d)},trigger:function(a,b){var d,e=b||h.coming||h.current;if(e){if(c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1))),d===!1||"afterClose"===a&&h.isActive)return!1;e.helpers&&c.each(e.helpers,function(b,d){var g,f=h.helpers[b];d&&f&&c.isFunction(f[a])&&(g=c.extend(!0,{},f.defaults,d),f.opts=g,f[a](g,e))}),c.event.trigger(a)}},reposition:function(a,b){var e,c=b||h.current,d=c&&c.wrap;h.isOpen&&d&&(e=h._getPosition(c),a===!1||a&&"scroll"===a.type?d.stop(!0).animate(e,200).css("overflow","visible"):d.css(e))},update:function(a){var f,b=a&&a.type,e=(o(),h.current);if(e&&h.isOpen){if("scroll"===b){if(h.wrap.outerHeight(!0)>h.getViewport().h)return;return h.didUpdate&&clearTimeout(h.didUpdate),void(h.didUpdate=setTimeout(function(){h.reposition(a),h.didUpdate=null},50))}h.lock&&h.lock.css("overflow","hidden"),h._setDimension(),h.reposition(a),h.lock&&h.lock.css("overflow","auto"),"float"===e.caption.type&&(f=h.getViewport().w-(h.wrap.outerWidth(!0)-h.inner.width()),e.caption.wrap.css("width",f).css("marginLeft",(.5*f-.5*h.inner.width())*-1)),e.expander&&(e.canShrink?c(".fancybox-expand").show().attr("title",e.locales[e.locale].SHRINK):e.canExpand?c(".fancybox-expand").show().attr("title",e.locales[e.locale].EXPAND):c(".fancybox-expand").hide()),h.trigger("onUpdate")}},toggle:function(a){var b=h.current;b&&h.isOpen&&(h.current.fitToView="boolean"===c.type(a)?a:!h.current.fitToView,h.update(!0))},hideLoading:function(){c("#fancybox-loading").remove()},showLoading:function(){var a,b;h.hideLoading(),a=c('<div id="fancybox-loading"></div>').click(h.cancel).appendTo("body"),h.defaults.fixed||(b=h.getViewport(),a.css({position:"absolute",top:.5*b.h+b.y,left:.5*b.w+b.x}))},getViewport:function(){var b;return b=h.lock?{x:h.lock.scrollLeft(),y:h.lock.scrollTop(),w:h.lock[0].clientWidth,h:h.lock[0].clientHeight}:{x:e.scrollLeft(),y:e.scrollTop(),w:i&&a.innerWidth?a.innerWidth:e.width(),h:i&&a.innerHeight?a.innerHeight:e.height()}},unbind:function(){j(h.wrap)&&h.wrap.unbind(".fb"),j(h.inner)&&h.inner.unbind(".fb"),f.unbind(".fb"),e.unbind(".fb")},rebind:function(){var b,a=h.current;h.unbind(),a&&h.isOpen&&(e.bind("orientationchange.fb"+(i?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),h.update),b=a.keys,b&&f.bind("keydown.fb",function(e){var f=e.which||e.keyCode,g=e.target||e.srcElement;return(27!==f||!h.coming)&&void(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||g&&(g.type||c(g).is("[contenteditable]"))||c.each(b,function(b,g){return g[f]!==d?(e.preventDefault(),a.group.length>1&&h[b](g[f]),!1):c.inArray(f,g)>-1?(e.preventDefault(),"play"===b?h.slideshow.toggle():h[b](),!1):void 0}))}),h.lastScroll=o(),a.mouseWheel&&h.group.length>1&&h.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(a){var b=a.originalEvent,c=b.target||0,d=b.wheelDelta||b.detail||0,e=b.wheelDeltaX||0,f=b.wheelDeltaY||0,g=o();if((!c||!c.style||c.style.overflow&&"hidden"===c.style.overflow||!(c.clientWidth&&c.scrollWidth>c.clientWidth||c.clientHeight&&c.scrollHeight>c.clientHeight))&&!(0===d||h.current&&h.current.canShrink)){if(b.stopPropagation(),h.lastScroll&&g-h.lastScroll<80)return void(h.lastScroll=g);h.lastScroll=g,b.axis&&(b.axis===b.HORIZONTAL_AXIS?e=d*-1:b.axis===b.VERTICAL_AXIS&&(f=d*-1)),0===e?f>0?h.prev("down"):h.next("up"):e>0?h.prev("right"):h.next("left")}}),h.touch.init())},rebuild:function(){var a=h.current;a.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove(),a.arrows&&h.group.length>1&&((a.loop||a.index>0)&&c(h._translate(a.tpl.prev)).appendTo(h.inner).bind("click.fb",h.prev),(a.loop||a.index<h.group.length-1)&&c(h._translate(a.tpl.next)).appendTo(h.inner).bind("click.fb",h.next)),a.closeBtn&&c(h._translate(a.tpl.closeBtn)).appendTo(h.wrap).bind("click.fb",h.close),a.expander&&"image"===a.type&&(c('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(h.inner).bind("click.fb",h.toggle),!a.canShrink&&!a.canExpand)},_start:function(a){var b,d;return h.opts.loop&&(a<0&&(a=h.group.length+a%h.group.length),a%=h.group.length),!!(b=h.group[a])&&(b=c.extend(!0,{},h.opts,b),b.group=h.group,b.index=a,h.coming=b,!1===h.trigger("beforeLoad")?void(h.coming=null):(h.isActive=!0,h._build(),f.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(f.unbind(".loading"),a.preventDefault(),h.cancel())}),b.overlay&&b.overlay.showEarly&&h.overlay.open(b.overlay),d=b.type,void("image"===d?h._loadImage():"ajax"===d?h._loadAjax():"iframe"===d?h._loadIframe():"inline"===d?h._loadInline():"html"===d||"swf"===d?h._afterLoad():h._error())))},_build:function(){var d,i,j,k,a=h.coming,b=a.caption.type;a.wrap=d=c('<div class="fancybox-wrap"></div>').appendTo(a.parent||"body").addClass("fancybox-"+a.theme),a.inner=i=c('<div class="fancybox-inner"></div>').appendTo(d),a["outside"===b||"float"===b?"inner":"wrap"].addClass("fancybox-skin fancybox-"+a.theme+"-skin"),a.locked&&a.overlay&&h.defaults.fixed&&(h.lock||(h.lock=c('<div id="fancybox-lock"></div>').appendTo(d.parent())),h.lock.unbind().append(d),a.overlay.closeClick&&h.lock.click(function(a){c(a.target).is(h.lock)&&h.close()}),(f.height()>e.height()||"scroll"===g.css("overflow-y"))&&(c("*:visible").filter(function(){return"fixed"===c(this).css("position")&&!c(this).hasClass("fancybox-overlay")&&"fancybox-lock"!==c(this).attr("id")}).addClass("fancybox-margin"),g.addClass("fancybox-margin")),j=e.scrollTop(),k=e.scrollLeft(),g.addClass("fancybox-lock"),e.scrollTop(j).scrollLeft(k)),h.trigger("onReady")},_error:function(a){h.coming&&(c.extend(h.coming,{type:"html",autoWidth:!0,autoHeight:!0,closeBtn:!0,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:a,content:h._translate(h.coming.tpl.error)}),h._afterLoad())},_loadImage:function(){var a=h.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null,c.extend(h.coming,{width:this.width,height:this.height,content:c(this).addClass("fancybox-image")}),h._afterLoad()},a.onerror=function(){this.onload=this.onerror=null,h._error("image")},a.src=h.coming.href,(a.complete!==!0||a.width<1)&&h.showLoading()},_loadAjax:function(){var d,e,a=h.coming,b=a.href;d=b.split(/\s+/,2),b=d.shift(),e=d.shift(),h.showLoading(),h.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){h.coming&&"abort"!==b?h._error("ajax",a):h.hideLoading()},success:function(b,d){"success"===d&&(e&&(b=c("<div>").html(b).find(e)),a.content=b,h._afterLoad())}}))},_loadIframe:function(){var b,a=h.coming;a.content=b=c(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",i?"auto":a.iframe.scrolling),a.iframe.preload&&(h.showLoading(),h._setDimension(a),a.wrap.addClass("fancybox-tmp"),b.one("load.fb",function(){a.iframe.preload&&(c(this).data("ready",1),c(this).bind("load.fb",h.update),h._afterLoad())})),b.attr("src",a.href).appendTo(a.inner),a.iframe.preload?1!==b.data("ready")&&h.showLoading():h._afterLoad()},_loadInline:function(){var a=h.coming,b=a.href;a.content=c(k(b)?b.replace(/.*(?=#[^\s]+$)/,""):b),a.content.length?h._afterLoad():h._error()},_preloadImages:function(){var e,f,a=h.group,b=h.current,c=a.length,d=b.preload?Math.min(b.preload,c-1):0;for(f=1;f<=d;f+=1)e=a[(b.index+f)%c],e&&"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var a=h.coming,b=h.current;return f.unbind(".loading"),a&&h.isActive!==!1&&!1!==h.trigger("afterLoad",a,b)?(c.extend(h,{wrap:a.wrap.addClass("fancybox-type-"+a.type+" fancybox-"+(i?"mobile":"desktop")+" fancybox-"+a.theme+"-"+(i?"mobile":"desktop")+" "+a.wrapCSS),inner:a.inner,current:a,previous:b}),h._prepare(),h.trigger("beforeShow",a,b),h.isOpen=!1,h.coming=null,h._setDimension(),h.hideLoading(),a.overlay&&!h.overlay.el&&h.overlay.open(a.overlay),void h.transitions.open()):(h.hideLoading(),a&&a.wrap&&p(a.wrap),b||h._afterZoomOut(a),void(h.coming=null))},_prepare:function(){var t,a=h.current,b=a.content||"",d=a.wrap,e=a.inner,f=a.margin,g=a.padding,i=a.href,l=a.type,o=(a.scrolling,a.caption),p=a.title,q=o.type,r="fancybox-placeholder",s="fancybox-display";"iframe"!==l&&j(b)&&b.length&&(b.data(r)||b.data(s,b.css("display")).data(r,c('<div class="'+r+'"></div>').insertAfter(b).hide()),b=b.show().detach(),a.wrap.bind("onReset",function(){c(this).find(b).length&&b.css("display",b.data(s)).replaceAll(b.data(r)).data(r,!1).data(s,!1)})),"swf"===l&&(b='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+i+'"></param>',t="",c.each(a.swf,function(a,c){b+='<param name="'+a+'" value="'+c+'"></param>',t+=" "+a+'="'+c+'"'}),b+='<embed src="'+i+'" type="application/x-shockwave-flash" width="100%" height="100%"'+t+"></embed></object>"),j(b)&&b.parent().is(a.inner)||(a.inner.append(b),a.content=a.inner.children(":last")),c.each(["Top","Right","Bottom","Left"],function(a,b){f[a]&&d.css("margin"+b,n(f[a])),g[a]&&("Bottom"===b&&"outside"===q||d.css("padding"+b,n(g[a])),"outside"!==q&&"float"!==q||(e.css("border"+b+"Width",n(g[a])),"Top"!==b&&"Left"!==b||e.css("margin"+b,n(g[a]*-1))))}),c.isFunction(p)&&(p=p.call(a.element,a)),k(p)&&""!==c.trim(p)&&(a.caption.wrap=c('<div class="fancybox-title fancybox-title-'+q+'-wrap">'+p+"</div>").appendTo(a["over"===q?"inner":"wrap"]),"float"===q&&a.caption.wrap.width(h.getViewport().w-(h.wrap.outerWidth(!0)-h.inner.width())).wrapInner("<div></div>"))},_setDimension:function(a){var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,b=h.getViewport(),c=a||h.current,d=c.wrap,e=c.inner,f=c.width,g=c.height,i=c.minWidth,k=c.minHeight,o=c.maxWidth,p=c.maxHeight,q=c.margin,r=c.scrollOutside?c.scrollbarWidth:0,q=c.margin,s=c.padding,t=c.scrolling,u=1;if(t=t.split(","),v=t[0],w=t[1]||v,c.inner.css("overflow-x","yes"===v?"scroll":"no"===v?"hidden":v).css("overflow-y","yes"===w?"scroll":"no"===w?"hidden":w),y=q[1]+q[3]+s[1]+s[3],x=q[0]+q[2]+s[0]+s[2],i=m(l(i)?m(i,"w")-y:i),o=m(l(o)?m(o,"w")-y:o),k=m(l(k)?m(k,"h")-x:k),p=m(l(p)?m(p,"h")-x:p),z=m(l(f)?m(f,"w")-y:f),A=m(l(g)?m(g,"h")-x:g),c.fitToView&&(o=Math.min(o,m("100%","w")-y),p=Math.min(p,m("100%","h")-x)),E=b.w,F=b.h,"iframe"===c.type){if(C=c.content,d.removeClass("fancybox-tmp"),(c.autoWidth||c.autoHeight)&&C&&1===C.data("ready"))try{C[0].contentWindow&&C[0].contentWindow.document.location&&(D=C.contents().find("body"),e.addClass("fancybox-tmp"),e.width(screen.width-y).height(99999),r&&D.css("overflow-x","hidden"),c.autoWidth&&(z=D.outerWidth(!0)),c.autoHeight&&(A=D.outerHeight(!0)),e.removeClass("fancybox-tmp"))}catch(a){}}else(c.autoWidth||c.autoHeight)&&"image"!==c.type&&"swf"!==c.type&&(e.addClass("fancybox-tmp"),c.autoWidth?e.width("auto"):e.width(o),c.autoHeight?e.height("auto"):e.height(p),c.autoWidth&&(z=e[0].scrollWidth||e.width()),c.autoHeight&&(A=e[0].scrollHeight||e.height()),e.removeClass("fancybox-tmp"));if(f=z,g=A,B=z/A,!c.autoResize)return d.css({width:n(f),height:"auto"}),void e.css({width:n(f),height:n(g)});if(c.aspectRatio?(f>o&&(f=o,g=f/B),g>p&&(g=p,f=g*B),f<i&&(f=i,g=f/B),g<k&&(g=k,f=g*B)):(f=Math.max(i,Math.min(f,o)),c.autoHeight&&"iframe"!==c.type&&(e.width(f),A=g=e[0].scrollHeight),g=Math.max(k,Math.min(g,p))),d.css({width:n(f),height:"auto"}),e.css({width:n(f),height:n(g)}),G=m(d.outerWidth(!0)),H=m(d.outerHeight(!0)),c.fitToView)if(c.aspectRatio)for(;(G>E||H>F)&&f>i&&g>k&&!(u++>30);)g=Math.max(k,Math.min(p,g-10)),f=m(g*B),f<i&&(f=i,g=m(f/B)),f>o&&(f=o,g=m(f/B)),d.css({width:n(f)}),e.css({width:n(f),height:n(g)}),G=m(d.outerWidth(!0)),H=m(d.outerHeight(!0));else f=Math.max(i,Math.min(f,f-(G-E))),g=Math.max(k,Math.min(g,g-(H-F)));r&&"auto"===v&&(g<e[0].scrollHeight||j(c.content)&&c.content[0]&&g<c.content[0].offsetHeight)&&f+y+r<o&&(f+=r),d.css({width:f}),e.css({width:n(f),height:n(g)}),G=m(d.outerWidth(!0)),H=m(d.outerHeight(!0)),I=(G>E||H>F)&&f>i&&g>k,J=(G<E||H<F)&&(c.aspectRatio?f<o&&g<p&&f<z&&g<A:(f<o||g<p)&&(f<z||g<A)),c.canShrink=I,c.canExpand=J,!C&&c.autoHeight&&g>k&&g<p&&!J&&e.height("auto")},_getPosition:function(a){var b=a||h.current,c=b.wrap,d=h.getViewport(),e={},f=d.y,g=d.x;return e={top:n(Math.max(f,f+(d.h-c.outerHeight(!0))*b.topRatio)),left:n(Math.max(g,g+(d.w-c.outerWidth(!0))*b.leftRatio)),width:n(c.width()),height:n(c.height())}},_afterZoomIn:function(){var a=h.current;a&&(h.lock&&h.lock.css("overflow","auto"),h.isOpen=h.isOpened=!0,h.rebuild(),h.rebind(),a.caption&&a.caption.wrap&&a.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast"),h.update(),h.wrap.css("overflow","visible").addClass("fancybox-open").focus(),h[h.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+a.theme+"-skin-open"),a.caption&&a.caption.wrap&&a.caption.wrap.show().css("left",0).animate({opacity:1},"fast"),a.margin[2]>0&&c('<div class="fancybox-spacer"></div>').css("height",n(a.margin[2]-2)).appendTo(h.wrap),h.trigger("afterShow"),h._preloadImages(),a.autoPlay&&!h.slideshow.isActive&&h.slideshow.start())},_afterZoomOut:function(a){var b=function(){p(".fancybox-wrap")};h.hideLoading(),a=a||h.current,a&&a.wrap&&a.wrap.hide(),c.extend(h,{group:[],opts:{},coming:null,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,inner:null}),h.trigger("afterClose",a),h.coming||h.current||(a.overlay?h.overlay.close(a.overlay,b):b())},_translate:function(a){var b=h.coming||h.current,c=b.locales[b.locale];return a.replace(/\{\{(\w+)\}\}/g,function(a,b){var e=c[b];return e===d?a:e})}}),h.transitions={_getOrig:function(a){var b=a||h.current,c=b.wrap,d=b.element,f=b.orig,g=h.getViewport(),i={},k=50,l=50;return!f&&d&&d.is(":visible")&&(f=d.find("img:first:visible"),f.length||(f=d)),!f&&b.group[0].element&&(f=b.group[0].element.find("img:visible:first")),j(f)&&f.is(":visible")?(i=f.offset(),f.is("img")&&(k=f.outerWidth(),l=f.outerHeight()),h.lock&&(i.top-=e.scrollTop(),i.left-=e.scrollLeft())):(i.top=g.y+(g.h-l)*b.topRatio,i.left=g.x+(g.w-k)*b.leftRatio),i={top:n(i.top-.5*(c.outerHeight(!0)-c.height())),left:n(i.left-.5*(c.outerWidth(!0)-c.width())),width:n(k),height:n(l)}},_getCenter:function(a){var b=a||h.current,c=b.wrap,d=h.getViewport(),e={},f=d.y,g=d.x;return e={top:n(Math.max(f,f+(d.h-c.outerHeight(!0))*b.topRatio)),left:n(Math.max(g,g+(d.w-c.outerWidth(!0))*b.leftRatio)),width:n(c.width()),height:n(c.height())}},_prepare:function(a,b){var c=a||h.current,d=c.wrap,e=c.inner;d.height(d.height()),e.css({width:100*e.width()/d.width()+"%",height:Math.floor(100*e.height()/d.height()*100)/100+"%"}),b===!0&&d.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove(),e.css("overflow","hidden")},fade:function(a,b){var d=this._getCenter(a),e={opacity:0};return"open"===b||"changeIn"===b?[c.extend(d,e),{opacity:1}]:[{},e]},drop:function(a,b){var d=c.extend(this._getCenter(a),{opacity:1}),e=c.extend({},d,{opacity:0,top:n(Math.max(h.getViewport().y-a.margin[0],m(d.top)-200))});return"open"===b||"changeIn"===b?[e,d]:[{},e]},elastic:function(a,b){var l,n,o,d=a.wrap,e=a.margin,f=h.getViewport(),g=h.direction,i=this._getCenter(a),j=c.extend({},i),k=c.extend({},i);return"open"===b?j=this._getOrig(a):"close"===b?(j={},k=this._getOrig(a)):g&&(l="up"===g||"down"===g?"top":"left",n="up"===g||"left"===g?200:-200,"changeIn"===b?(o=m(j[l])+n,o="left"===g?Math.min(o,f.x+f.w-e[3]-d.outerWidth()-1):"right"===g?Math.max(o,f.x-e[1]):"up"===g?Math.min(o,f.y+f.h-e[0]-d.outerHeight()-1):Math.max(o,f.y-e[2]),j[l]=o):(o=m(d.css(l))-n,j={},o="left"===g?Math.max(o,f.x-e[3]):"right"===g?Math.min(o,f.x+f.w-e[1]-d.outerWidth()-1):"up"===g?Math.max(o,f.y-e[0]):Math.min(o,f.y+f.h-e[2]-d.outerHeight()-1),k[l]=o)),"open"===b||"changeIn"===b?(j.opacity=0,k.opacity=1):k.opacity=0,[j,k]},open:function(){var e,f,g,i,j,a=h.current,b=h.previous;h.direction;b&&b.wrap.stop(!0).removeClass("fancybox-opened"),h.isOpened?(e=a.nextEffect,g=a.nextSpeed,i=a.nextEasing,j="changeIn"):(e=a.openEffect,g=a.openSpeed,i=a.openEasing,j="open"),"none"===e?h._afterZoomIn():(f=this[e](a,j),"elastic"===e&&this._prepare(a),a.wrap.css(f[0]),a.wrap.animate(f[1],g,i,h._afterZoomIn)),b&&(h.isOpened&&"none"!==b.prevEffect?(b.wrap.stop(!0).removeClass("fancybox-opened"),f=this[b.prevEffect](b,"changeOut"),this._prepare(b,!0),b.wrap.animate(f[1],b.prevSpeed,b.prevEasing,function(){p(b.wrap)})):p(c(".fancybox-wrap").not(a.wrap)))},close:function(){var d,a=h.current,b=a.wrap.stop(!0).removeClass("fancybox-opened"),c=a.closeEffect;return"none"===c?h._afterZoomOut():(this._prepare(a,!0),d=this[c](a,"close"),void b.addClass("fancybox-animating").animate(d[1],a.closeSpeed,a.closeEasing,h._afterZoomOut))}},h.slideshow={_clear:function(){this._timer&&clearTimeout(this._timer)},_set:function(){this._clear(),h.current&&this.isActive&&(this._timer=setTimeout(h.next,this._speed))},_timer:null,_speed:null,isActive:!1,start:function(a){var b=h.current;b&&(b.loop||b.index<b.group.length-1)&&(this.stop(),this.isActive=!0,this._speed=a||b.playSpeed,f.bind({"beforeLoad.player":c.proxy(this._clear,this),"onUpdate.player":c.proxy(this._set,this),"onCancel.player beforeClose.player":c.proxy(this.stop,this)}),this._set(),h.trigger("onPlayStart"))},stop:function(){this._clear(),f.unbind(".player"),this.isActive=!1,this._timer=this._speed=null,h.trigger("onPlayEnd")},toggle:function(){this.isActive?this.stop():this.start.apply(this,arguments)}},h.overlay={el:null,theme:"",open:function(a){var g,i,b=this,d=this.el,f=h.defaults.fixed;a=c.extend({},h.defaults.overlay,a),d?d.stop(!0).removeAttr("style").unbind(".overlay"):d=c('<div class="fancybox-overlay'+(f?" fancybox-overlay-fixed":"")+'"></div>').appendTo(a.parent||"body"),a.closeClick&&d.bind("click.overlay",function(a){return!(h.lastTouch&&o()-h.lastTouch<300)&&(h.isActive?h.close():b.close(),!1)}),i=a.theme||(h.coming?h.coming.theme:"default"),i!==this.theme&&d.removeClass("fancybox-"+this.theme+"-overlay"),this.theme=i,d.addClass("fancybox-"+i+"-overlay").css(a.css),g=d.css("opacity"),!this.el&&g<1&&a.speedIn&&d.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(a.speedIn,g),this.el=d,f||(e.bind("resize.overlay",c.proxy(this.update,this)),this.update())},close:function(a,b){a=c.extend({},h.defaults.overlay,a),this.el&&this.el.stop(!0).fadeOut(a.speedOut,function(){e.unbind("resize.overlay"),c(".fancybox-overlay").remove(),h.overlay.el=null,c.isFunction(b)&&b()})},update:function(){this.el.css({width:"100%",height:"100%"}),this.el.width(f.width()).height(f.height())}},h.touch={startX:0,wrapX:0,dx:0,isMoving:!1,_start:function(a){var d=(h.current,a.originalEvent.touches?a.originalEvent.touches[0]:a),e=o();if(h.isOpen&&!h.wrap.is(":animated")&&(c(a.target).is(h.inner)||c(a.target).parent().is(h.inner))){if(h.lastTouch&&e-h.lastTouch<300)return a.preventDefault(),h.lastTouch=e,this._cancel(!0),h.toggle(),!1;h.lastTouch=e,h.wrap&&h.wrap.outerWidth()>h.getViewport().w||(a.preventDefault(),d&&h.wrap&&h.wrap.outerWidth()<h.getViewport().w&&(this.startX=d.pageX,this.wrapX=h.wrap.position().left,this.isMoving=!0,h.inner.bind("touchmove.fb",c.proxy(this._move,this)).one("touchend.fb touchcancel.fb",c.proxy(this._cancel,this))))}},_move:function(a){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a,c=this.startX-b.pageX;this.isMoving&&h.isOpen&&(this.dx=c,h.current.wrap.outerWidth(!0)<=e.width()&&(Math.abs(c)>=50?(a.preventDefault(),this.last=0,this._cancel(!0),c>0?h.next("left"):h.prev("right")):Math.abs(c)>3&&(a.preventDefault(),this.last=0,h.wrap.css("left",this.wrapX-c))))},_clear:function(){this.startX=this.wrapX=this.dx=0,this.isMoving=!1},_cancel:function(a){h.inner&&h.inner.unbind("touchmove.fb"),h.isOpen&&Math.abs(this.dx)>3&&h.reposition(!1),this._clear()},init:function(){h.inner&&h.touch&&(this._cancel(!0),h.inner.bind("touchstart.fb",c.proxy(this._start,this)))}},c.easing.easeOutQuad||(c.easing.easeOutQuad=function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}),f.ready(function(){var b,f,i,j;c.scrollbarWidth===d&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),d=b.innerWidth()-b.height(99).innerWidth();return a.remove(),d}),c.support.fixedPosition===d&&(c.support.fixedPosition=function(){var a=c('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),b="fixed"===a.css("position")&&(a[0].offsetTop>18&&a[0].offsetTop<22||15===a[0].offsetTop);return a.remove(),b}()),c.extend(h.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")}),i=e.scrollTop(),j=e.scrollLeft(),b=c(a).width(),g.addClass("fancybox-lock-test"),f=c(a).width(),g.removeClass("fancybox-lock-test"),e.scrollTop(i).scrollLeft(j),h.lockMargin=f-b,c("<style type='text/css'>.fancybox-margin{margin-right:"+h.lockMargin+"px;}</style>").appendTo("head"),c("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)&&c("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}),c.fn.fancybox=function(a){var b=this,d=!!this.length&&this.selector,e=d&&d.indexOf("()")<0&&!(a&&a.live===!1),g=function(f){var g=e?c(d):b,i=c(this).blur(),j=a.groupAttr||"data-fancybox-group",k=i.attr(j),l=this.rel;!k&&l&&"nofollow"!==l&&(j="rel",k=l),k&&(i=g.filter("["+j+'="'+k+'"]'),a.index=i.index(this)),i.length&&(f.preventDefault(),h.open(i.get(),a))};return a=a||{},e?f.undelegate(d,"click.fb-start").delegate(d+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",g):b.unbind("click.fb-start").bind("click.fb-start",g),this}}(window,document,jQuery);